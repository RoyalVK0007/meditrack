<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="page" content="dashboard">
    <meta name="page-title" content="Dashboard">
    <title>Dashboard - MediTrack</title>
    <link rel="stylesheet" href="modern-style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <main class="content page-content">
            <!-- Admin Controls -->
            <div id="adminControls" class="card" style="display: none;">
                <div class="card-header">
                    <h3 class="card-title">ğŸ”§ Admin Controls</h3>
                </div>
                <div class="flex gap-2" style="flex-wrap: wrap;">
                    <button onclick="window.location.href='admin.html'" class="btn btn-primary">ğŸ‘¥ Manage Users</button>
                    <button onclick="seedDemoData()" class="btn btn-primary" style="background-color: var(--success-color);">ğŸ“Š Seed Demo Data</button>
                    <button onclick="clearAllData()" class="btn btn-danger">ğŸ—‘ï¸ Clear All Data</button>
                    <button onclick="generateReport()" class="btn btn-info" style="background-color: var(--info-color); color: white;">ğŸ“‹ Generate Report</button>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">âš¡ Quick Actions</h3>
                </div>
                <div class="flex gap-2" style="flex-wrap: wrap;">
                    <button onclick="quickAddPatient()" class="btn btn-primary">
                        <span>ğŸ‘¥</span> Add Patient
                    </button>
                    <button onclick="quickRecordVitals()" class="btn btn-primary">
                        <span>ğŸ’“</span> Record Vitals
                    </button>
                    <button onclick="window.location.href='medications.html'" class="btn btn-primary">
                        <span>ğŸ’Š</span> Manage Medications
                    </button>
                    <button onclick="quickCreateBill()" class="btn btn-primary">
                        <span>ğŸ’°</span> Create Bill
                    </button>
                    <button onclick="window.location.href='reports.html'" class="btn btn-secondary">
                        <span>ğŸ“‹</span> View Reports
                    </button>
                    <button onclick="window.location.href='profile.html'" class="btn btn-secondary">
                        <span>ğŸ‘¤</span> My Profile
                    </button>
                </div>
            </div>
            
            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-label">Total Patients</span>
                    <span class="stat-value" id="totalPatients">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Admitted Today</span>
                    <span class="stat-value" id="admittedToday">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Critical Alerts</span>
                    <span class="stat-value" id="criticalAlerts" style="color: var(--danger-color);">0</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Pending Bills</span>
                    <span class="stat-value" id="pendingBills">0</span>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem;">
                <!-- Chart -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Patient Vitals Trends</h3>
                    </div>
                    <div class="chart-container" style="position: relative; height: 300px; width: 100%;">
                        <canvas id="vitalsChart"></canvas>
                    </div>
                </div>

                <!-- Emergency & Info -->
                <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                    <div class="card" style="border-left: 4px solid var(--danger-color);">
                        <div class="card-header">
                            <h3 class="card-title" style="color: var(--danger-color);">ğŸ†˜ Emergency</h3>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div class="text-center p-2 bg-red-50 rounded">
                                <strong>ğŸš‘ Ambulance</strong><br>
                                <a href="tel:108" class="text-danger font-bold">108</a>
                            </div>
                            <div class="text-center p-2 bg-red-50 rounded">
                                <strong>ğŸ”¥ Fire</strong><br>
                                <a href="tel:101" class="text-danger font-bold">101</a>
                            </div>
                        </div>
                        <button class="btn btn-danger mt-4" style="width: 100%;" onclick="triggerFireAlarm()">
                            ğŸš¨ TRIGGER FIRE ALARM
                        </button>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ¥ Hospital Info</h3>
                        </div>
                        <div style="font-size: 0.875rem; color: var(--text-secondary);">
                            <p class="mb-4">
                                <strong>MediTrack General Hospital</strong><br>
                                123 Healthcare Avenue<br>
                                Mumbai, Maharashtra
                            </p>
                            <p>
                                <strong>Emergency:</strong> 24/7<br>
                                <strong>OPD:</strong> 8:00 AM - 8:00 PM
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="template.js"></script>
    <script src="auth.js"></script>
    <script src="common.js"></script>
    <script src="dashboard.js"></script>
    <script>
        // Simple logout function
        function logout() {
            localStorage.clear();
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>